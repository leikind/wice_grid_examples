<%= grid(@tasks_grid, :show_filters => :always, :upper_pagination_panel => true) do |g|

  g.column :column_name => 'ID', :attribute_name => 'id', :no_filter => true

  # html version
  g.column :column_name => 'Title', :attribute_name => 'title', :in_csv => false do |task|
    link_to('Edit', edit_task_path(task.title))
  end
  # plain text version
  g.column :column_name => 'Title', :in_html => false do |task|
    task.title
  end

  g.column :column_name => 'Priority', :attribute_name => 'priority_id', :custom_filter => Priority.to_dropdown do |task|
    task.priority.name if task.priority
  end

  g.column :column_name => 'Status', :attribute_name => 'status_id', :custom_filter => Status.to_dropdown do |task|
    task.status.name if task.status
  end

  # html version
  g.column :column_name => 'Project Name', :attribute_name => 'project_id', :custom_filter => Project.to_dropdown, :in_csv => false do |task|
    link_to_if(task.project, task.project.name, project_path(task.project) )
  end
  # plain text version
  g.column :column_name => 'Project Name', :in_html => false do |task|
    task.project.name if task.project
  end

  g.column  :column_name => 'Archived', :attribute_name => 'archived' do |task|
    task.archived? ? 'Yes' : 'No'
  end

  g.column :column_name => 'Added', :attribute_name => 'created_at' do |task|
    task.created_at.to_s(:short)
  end

  # is not included into csv
  g.column  :in_csv => false do |task|
    link_to('Edit', edit_task_path(task))
  end
end -%>